#!/bin/bash
################################################################################
#	Copyright (C) 2020	Alejandro Colomar Andr√©s		       #
#	SPDX-License-Identifier:	GPL-2.0-only			       #
################################################################################
#
# Run laundry-symbol-reader docker image with an image passed as argument
#
################################################################################


################################################################################
#	functions							       #
################################################################################


################################################################################
#	main								       #
################################################################################
main()
{
	dir=$(realpath $(dirname "$1"))
	fname=$(basename "$1")

	vol="--volume ${dir}:${dir}"
	env="--env IMG_FNAME=${dir}/${fname}"
	opt="--tty --interactive ${vol} ${env}"

	cmd="docker container run	${opt}	laundrysymbolreader/reader"
	${cmd}
}

################################################################################
#	run								       #
################################################################################
main	$1


################################################################################
#	end of file							       #
################################################################################

