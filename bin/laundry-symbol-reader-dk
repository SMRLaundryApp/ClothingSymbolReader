#!/bin/bash
################################################################################
#	Copyright (C) 2020	Alejandro Colomar Andr√©s		       #
#	SPDX-License-Identifier:	GPL-2.0-only			       #
################################################################################
#
# Run laundry-symbol-reader docker image with an image passed as argument
#
################################################################################


################################################################################
#	functions							       #
################################################################################


################################################################################
#	main								       #
################################################################################
main()
{
	img=$1
	dir=$(realpath $(dirname ${img}))
	fname=$(basename ${img})

	vol="--volume ${dir}:/tmp/img"
	env="--env IMG_FNAME=/tmp/img/${fname}"
	opt="--tty --interactive --rm ${vol} ${env}"

	export	cmd="docker container run ${opt} laundrysymbolreader/reader"
	${cmd}
}

################################################################################
#	run								       #
################################################################################
main	$1


################################################################################
#	end of file							       #
################################################################################

