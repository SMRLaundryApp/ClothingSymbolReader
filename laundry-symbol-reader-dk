#!/bin/bash
################################################################################
#	Copyright (C) 2020	Alejandro Colomar Andr√©s		       #
#	SPDX-License-Identifier:	GPL-2.0-only			       #
################################################################################
#
# Run laundry-symbol-reader docker image with an image passed as argument
#
################################################################################


################################################################################
#	functions							       #
################################################################################
wrap_env()
{
	env="--env IMG_FNAME=${PWD}/$1"
}

wrap_vol()
{
	vol="--volume ${PWD}:${PWD}"
}

wrap_options()
{
	opt="--tty --interactive $1 $2"
}

################################################################################
#	main								       #
################################################################################
main()
{

	wrap_vol
	wrap_env	"$1"
	wrap_options	"${vol}" "${env}"

	cmd="docker container run	${opt}	laundrysymbolreader/reader"
	${cmd}
}

################################################################################
#	run								       #
################################################################################
main	$1


################################################################################
#	end of file							       #
################################################################################

